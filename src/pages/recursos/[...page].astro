---
import { CollectionEntry, getCollection } from "astro:content";
import Card from "@/components/Card.astro";
import Pagination from "@/components/Pagination.astro";
import Layout from "@/layouts/Layout.astro";
export async function getStaticPaths({ paginate }: any) {
  const allResourses = await getCollection("recursos");
  return paginate(allResourses, { pageSize: 12 });
}
const { page } = Astro.props;
const currentPage = page.currentPage ?? 1;
---

<Layout
  title={`Cooparaje ${currentPage > 1 ? `— página ${currentPage} ` : ""}`}
>
  <main class="wrapper">
    <h1 class="title">Recursos</h1>
    <div role="list" class="resoursesList">
      {
        page.data.map((item: any) => (
          <Card
            title={item.data.title}
            slug={item.slug}
            image={item.data.featuredImg}
            url={item.data.url}
            text={item.body}
          />
        ))
      }
    </div>
    <Pagination prevUrl={page.url.prev} nextUrl={page.url.next} />
  </main>
</Layout>

<style>
  .wrapper {
    @apply flex flex-col gap-6 py-24;
  }

  .title {
    @apply mt-24 mb-1 font-serif text-6xl text-center;
  }
  .resoursesList {
    @apply grid max-w-6xl gap-6 px-4 mx-auto md:grid-cols-2;
  }
</style>
